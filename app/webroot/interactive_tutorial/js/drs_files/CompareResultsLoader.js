var providerIds_wcf="",DataSourceSS_wcf="",compareprinturl="",printurl="",compareprinturltemp="",authTokenCL="";if(typeof PFGlobal=="undefined")var PFGlobal={SourceLoad:{CompareResultsLoader:false}};else if(typeof PFGlobal.SourceLoad=="undefined")PFGlobal.SourceLoad={CompareResultsLoader:false};else if(typeof PFGlobal.SourceLoad.CompareResultsLoader=="undefined")PFGlobal.SourceLoad.CompareResultsLoader=false;if(typeof PFGlobal.SourceLoad.ControlBase=="undefined"||!PFGlobal.SourceLoad.ControlBase)setTimeout(function(){if(typeof PFGlobal.SourceLoad.ControlBase=="undefined"||!PFGlobal.SourceLoad.ControlBase)setTimeout(arguments.callee,100);else PF_CompareResultsLoader_Class()},100);else PF_CompareResultsLoader_Class();function PF_CompareResultsLoader_Class(){CompareResultsLoader.prototype=new ControlBase;CompareResultsLoader.prototype.constructor=CompareResultsLoader;CompareResultsLoader.prototype.Init=function(a){this.ProviderID=a.ProviderId;this.DataSource=a.DataSource;this.MapAddress=a.address;ControlBase.prototype.Init.call(this,a);CompareResultsLoader.prototype.PFPath=a.SourceUrl;authTokenCL=a.AuthToken};CompareResultsLoader.prototype.Load=function(){ControlBase.prototype.LoadWithParams.call(this,this.SourceUrl,this.ControlPath,{providerids:this.ProviderID,SS:this.DataSource,addid:this.MapAddress})};PFGlobal.SourceLoad.CompareResultsLoader=true}function CompareResultsLoader(){ControlBase.call(this);this.SupportedSnapouts={rightsidecontent:"rightsidecontent"};this.ResponseContainer="maincontent";$("#innerheader").hide();var a="";if(getParameterByName("culture")!=null&&getParameterByName("culture")!="")a="&culture="+getParameterByName("culture");if(IsSecure)this.ControlPath="/navigate.aspx?site=providerfinderconsumer&cat=providerdirectory&page=compareproviders"+a;else this.ControlPath="/navigate.aspx?site=providerfinderpublic&cat=provider-directory&page=compare-providers"+a;this.Exporter=new FileExport;this.Ready=function(){$("#innerheader").show();var a=this;providerIds_wcf=this.ProviderID;DataSourceSS_wcf=this.DataSource;CompareResultsLoader_ControlReady();$('a[id$="lbtnBack"]').live("click",function(){if(typeof isCostIndicator!="undefined"){if(isCostIndicator=="True"){var c=new SearchResults,b={Container:$(a.Container).attr("id"),SourceUrl:a.SourceUrl};a.PreserveCommonSnapouts=true;a.AssignedSnapouts={leftsidecontent:"refinesearchContainer"};if(typeof cp_brand!="undefined"&&(cp_brand.toUpperCase()=="EBCBS"||cp_brand.toUpperCase()=="EBC"||cp_brand.toUpperCase()=="GHEALTHCARE"))a.Navigate("EmpireCostSearchResults",c,b);else a.Navigate("CostSearchResults",c,b)}}else if(typeof LoadSearchResult!="undefined")LoadSearchResult();else{var d=new SearchResults,b={Container:$(a.Container).attr("id"),SourceUrl:a.SourceUrl};a.PreserveCommonSnapouts=true;a.AssignedSnapouts={leftsidecontent:"refinesearchContainer"};if(typeof cp_brand!="undefined"&&(cp_brand.toUpperCase()=="EBCBS"||cp_brand.toUpperCase()=="EBC"))a.Navigate("EmpireSearchResults",c,b);else a.Navigate("SearchResults",d,b)}});compareprinturltemp="";compareprinturltemp=$("a[id$='PrintResultsLinkRS']").attr("href");compareprinturl=$("a[id$='PrintResultsLinkRS']").attr("href");printurl=compareprinturl+"providerids="+ProviderIDforPrint+"&SS="+DataSourceSS+"&addid="+addid+"&authtoken="+authTokenCL;$("a[id$='PrintResultsLinkRS']").removeAttr("href");$("a[id$='PrintResultsLinkRS']").attr("href",printurl);$('a[id$="lbZagatRatings"]').live("click",function(){theForm=document.forms.aspnetForm;$(this).is(":visible")&&a.login()});$('a[id$="lbLoginToRate"]').live("click",function(){theForm=document.forms.aspnetForm;$(this).is(":visible")&&a.login()});$('a[id$="ProvNameLinkCopmare"]').bind("click",function(){var c=$(this).attr("rel"),b=$(this).attr("ss"),d=$(this).attr("addId"),f=$(this).attr("provcat");if(typeof isOneSearch!="undefined"&&isOneSearch!="null"&&isOneSearch)LoadProviderDetails(c,b,d,"","",false,f);else{var e=new DoctorDetails,g={Container:$(a.Container).attr("id"),SourceUrl:a.SourceUrl,providerId:c,sourceSystem:b,addressId:d,CustomParam:true};a.Navigate("providerdetails",e,g)}});a.Exporter.WireLinks(a)}}function CompareResultsLoader_ControlReady(){var c=$("input[id$='hSiteCulture']").val();if(getParameterByName("culture")!=null&&getParameterByName("culture")!=""&&getParameterByName("culture")=="mx"||c=="mx"){$("td#nyPrintTD").hide();$("td#nyZoomTD").hide()}$("span[class='pageheader']").html($("input[id$='hCompareResultText']").val());$("span[class='pageheader']").next("span").html("");$("div.backtoresultslnk a.pfdetailslnk").text($("input[id$='hBacktoResultsText']").val());$(".backtoresultslnk").show();if(typeof helpfulHints!="undefined"&&typeof helpfulHints!=null){var d=$("[id=helpfulhints]");d.length>0&&helpfulHints.init()}if(compareJsonHeader!=""&&compareJsonHeader!=null){var a=[];$(compareJsonHeader.ColumnNameIndex).each(function(c){if(c==0){var b=this.replace(/ /gi,"");a[c]={name:b,index:b,align:"left",resizable:false,sortable:false,width:160,classes:"cellleftright"}}else{var b=this.replace(/ /gi,"");a[c]={name:b,index:b,align:"left",resizable:false,sortable:false,width:160,classes:"cellleftright"}}})}var b={page:1,rows:20,sidx:"",sord:"",providerids:providerIds_wcf,sourceSystem:DataSourceSS_wcf};jQuery("#ComparePageJQGrid").jqGrid({postData:b,datatype:function(a){$(".loading").hide();$.ajax({url:CompareResultsLoader.prototype.PFPath+"/webcontrols/providerfinder/Services/Providerfinder_wcf.svc/ComparePageJqGrid?callback=?",data:a,dataType:"json",success:function(a){var b=$("#ComparePageJQGrid")[0];b.addJSONData(a)}});$(".ui-jqgrid-btable").css("display","inline-table")},colNames:compareJsonHeader.HeaderName,shrinkToFit:true,fixed:true,colModel:a,viewrecords:true,height:"100%",width:"100%",altRows:true,gridComplete:function(){$("table.ui-jqgrid-htable th").each(function(a){a!=0&&$(this).find("#ProvNameLinkCopmare").after(" "+compareJsonHeader.ImageTray[a-1])});$("tr.jqgrow","#ComparePageJQGrid").each(function(){$("td[role='gridcell']",$(this)).removeAttr("title")});$("tr.jqgrow:nth-child(even)","#ComparePageJQGrid").addClass("myAltRowClass");$(".loading").hide();$("a.load-local").cluetip({local:true,cursor:"pointer",sticky:true,showTitle:false,closeButton:false});$("a.load-cost").cluetip({width:"500px",local:true,cursor:"pointer",sticky:false,showTitle:false,closeButton:false});$("a.load-spl").cluetip({local:true,cursor:"pointer",sticky:false,showTitle:false,closeButton:false});var a=0;$(".ui-jqgrid-htable").find("th").each(function(b){if(b!=0){$(this).eq(0).css("border-right","solid 1px #ececec");$(this).eq(0).css("border-top","solid 1px #ececec")}else{$(this).eq(0).css("border","none");$(this).eq(0).css("border-right","solid 1px #ececec")}a=b});a++;$(".ui-jqgrid-htable").css("border","none");$(".ui-jqgrid-btable").css("border","none");$(".ui-jqgrid-htable").css("width","100%");$(".ui-jqgrid-btable").css("width","100%");$("#ComparePageJQGrid").css("width","100%");$("#gbox_ComparePageJQGrid").css("width","100%");$("#gview_ComparePageJQGrid").css("width","100%");$(".ui-jqgrid-hdiv").css("width","100%");$(".ui-jqgrid-bdiv").css("width","100%");$(".ui-jqgrid-htable").css("display","inline-table");$(".ui-jqgrid-btable").css("display","inline-table");$(".jqgfirstrow").css("display","table-row");$(".ui-jqgrid-htable").find("th").each(function(){$(this).css("width",90/a+"%")});$(".ui-jqgrid-btable").find("td").each(function(){$(this).css("width",90/a+"%")});$(function(){Sys.Debug.trace("compareresultloader.js: entering Document Ready");var b=20,a=10;$(".trigger").hover(function(){$(this).next().show()},function(){$(this).next().hide()});$(".trigger").mousemove(function(){});$(".ui-jqgrid-labels").find("th:first-child div:first-child").removeAttr("class").css("color","grey");$("#chkAcceptsMedicaid_helpIcon").tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250,bodyHandler:function(){return $("#lblAcceptsMedicaid").html()}});Sys.Debug.trace("compareresultloader.js: exiting Document Ready")});$("img.load-local").cluetip({local:true,cursor:"pointer",sticky:true,showTitle:false,closeButton:false});$("span.load-local").cluetip({local:true,cursor:"pointer",sticky:true,showTitle:false,closeButton:false});$('a[id$="lbSecureZagatRatings"]').bind("click",function(a){var d=$(this).attr("zurl"),b=a.clientX-110,c=a.clientY;showAttachedDialog(d,690,600,b,c,100)});$('a[id="ProvWebUrlLink"]').bind("click",function(){var a=$(this).attr("weburl");ShowDisclaimer(a,"External Site");return false});$('a[id$="lbRateProvider"]').bind("click",function(a){var d=$(this).attr("zurl"),b=a.clientX-110,c=a.clientY;showAttachedDialog(d,690,600,b,c,100)})}});$("#lui_ComparePageJQGrid").length>0&&$("#lui_ComparePageJQGrid").removeClass("ui-widget-overlay")}function HideColumnJqgrid(a,b){var c=jQuery("#ComparePageJQGrid").jqGrid("getGridParam","colModel"),d=c[a].name;jQuery("#ComparePageJQGrid").hideCol(b+a);$("tr.ui-row-ltr","#ComparePageJQGrid").each(function(){$("td[role='gridcell']:eq("+a+")",this).css("display","none");$(".ui-jqgrid-htable").css("width","100%");$(".ui-jqgrid-btable").css("width","100%");$("#ComparePageJQGrid").css("width","100%");$("#gbox_ComparePageJQGrid").css("width","100%");$("#gview_ComparePageJQGrid").css("width","100%");$(".ui-jqgrid-hdiv").css("width","100%");$(".ui-jqgrid-bdiv").css("width","100%");$(".ui-jqgrid-htable").css("display","inline-table");$(".ui-jqgrid-btable").css("display","inline-table");$(".jqgfirstrow").css("display","table-row");var d=[],f=[],e=[];d=ProviderIDforPrint.split("-");f=addid.split("-");e=DataSourceSS.split("-");for(var c=0;c<d.length;c++)if(d[c]==b){d.splice(c,1);f.splice(c,1);e.splice(c,1)}ProviderIDforPrint="";addid="";DataSourceSS="";for(var c=0;c<d.length;c++)if(ProviderIDforPrint=="")ProviderIDforPrint=d[c];else ProviderIDforPrint+="-"+d[c];for(var c=0;c<f.length;c++)if(addid=="")addid=f[c];else addid+="-"+f[c];for(var c=0;c<e.length;c++)if(DataSourceSS=="")DataSourceSS=e[c];else DataSourceSS+="-"+e[c];compareprinturl="";printurl="";compareprinturl=compareprinturltemp;printurl=compareprinturl+"providerids="+ProviderIDforPrint+"&addid="+addid+"&SS="+DataSourceSS+"&authtoken=";$("a[id$='PrintResultsLinkRS']").removeAttr("href");$("a[id$='PrintResultsLinkRS']").attr("href",printurl)})}