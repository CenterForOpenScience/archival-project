(function(b){var a={},d,h,f,g=b.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),i=false;b.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){b.tooltip.blocked=!b.tooltip.blocked}};b.fn.extend({tooltip:function(c){c=b.extend({},b.tooltip.defaults,c);l(c);return this.each(function(){b.data(this,"tooltip",c);this.tOpacity=a.parent.css("opacity");this.tooltipText=this.title;b(this).removeAttr("title");this.alt=""}).mouseover(o).mouseout(j).click(j)},fixPNG:g?function(){return this.each(function(){var a=b(this).css("backgroundImage");if(a.match(/^url\(["']?(.*\.png)["']?\)$/i)){a=RegExp.$1;b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+a+"')"}).each(function(){var a=b(this).css("position");a!="absolute"&&a!="relative"&&b(this).css("position","relative")})}})}:function(){return this},unfixPNG:g?function(){return this.each(function(){b(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){b(this)[b(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function l(c){if(a.parent)return;a.parent=b('<div id="'+c.id+'" style="z-index:150;"><div class="box1top-left_tooltip"></div><div class="box1top-right_tooltip"></div><div class="box1inside_tooltip"><div><h3></h3><div class="body"></div><div class="url"></div></div></div><div class="box1bottom-left_tooltip"></div><div class="box1bottom-right_tooltip"></div></div>').appendTo(document.body).hide();b.fn.bgiframe&&a.parent.bgiframe();a.title=b("h3",a.parent);a.body=b("div.body",a.parent);a.url=b("div.url",a.parent)}function c(a){return b.data(a,"tooltip")}function n(a){if(c(this).delay)f=setTimeout(k,c(this).delay);else k();i=!!c(this).track;b(document.body).bind("mousemove",e);e(a)}function o(){if(b.tooltip.blocked||this==d||!this.tooltipText&&!c(this).bodyHandler)return;d=this;h=this.tooltipText;if(c(this).bodyHandler){a.title.hide();var e=c(this).bodyHandler.call(this);if(e.nodeType||e.jquery)a.body.empty().append(e);else a.body.html(e);a.body.show()}else if(c(this).showBody){var g=h.split(c(this).showBody);a.title.html(g.shift()).show();a.body.empty();for(var f=0,i;i=g[f];f++){f>0&&a.body.append("<br/>");a.body.append(i)}a.body.hideWhenEmpty()}else{a.title.html(h).show();a.body.hide()}if(c(this).showURL&&b(this).url())a.url.html(b(this).url().replace("http://","")).show();else a.url.hide();a.parent.addClass(c(this).extraClass);c(this).fixPNG&&a.parent.fixPNG();n.apply(this,arguments)}function k(){f=null;if((!g||!b.fn.bgiframe)&&c(d).fade)if(a.parent.is(":animated"))a.parent.stop().show().fadeTo(c(d).fade,d.tOpacity);else a.parent.is(":visible")?a.parent.fadeTo(c(d).fade,d.tOpacity):a.parent.fadeIn(c(d).fade);else a.parent.show();e()}function e(h){if(b.tooltip.blocked)return;if(h&&h.target.tagName=="OPTION")return;!i&&a.parent.is(":visible")&&b(document.body).unbind("mousemove",e);if(d==null){b(document.body).unbind("mousemove",e);return}a.parent.removeClass("viewport-right").removeClass("viewport-bottom");var f=a.parent[0].offsetLeft,j=a.parent[0].offsetTop;if(h){f=h.pageX+c(d).left;j=h.pageY+c(d).top;var l="auto";if(c(d).positionLeft){l=b(window).width()-f;f="auto"}a.parent.css({left:f,right:l,top:j})}var k=m(),g=a.parent[0];if(k.x+k.cx<g.offsetLeft+g.offsetWidth){f-=g.offsetWidth+20+c(d).left;a.parent.css({left:f+"px"}).addClass("viewport-right")}if(k.y+k.cy<g.offsetTop+g.offsetHeight){j-=g.offsetHeight+20+c(d).top;a.parent.css({top:j+"px"}).addClass("viewport-bottom")}}function m(){return{x:b(window).scrollLeft(),y:b(window).scrollTop(),cx:b(window).width(),cy:b(window).height()}}function j(){if(b.tooltip.blocked)return;f&&clearTimeout(f);d=null;var e=c(this);function h(){a.parent.removeClass(e.extraClass).hide().css("opacity","")}if((!g||!b.fn.bgiframe)&&e.fade)if(a.parent.is(":animated"))a.parent.stop().fadeTo(e.fade,0,h);else a.parent.stop().fadeOut(e.fade,h);else h();c(this).fixPNG&&a.parent.unfixPNG()}})(jQuery)